<%@ Page Title="" Language="C#" MasterPageFile="~/Site.Master" AutoEventWireup="true" CodeBehind="StepDetails.aspx.cs" Inherits="ManTestAppWebForms.Views.StepDetails" %>
<asp:Content ID="Content1" ContentPlaceHolderID="MainContent" runat="server">
    <div>
    <asp:SiteMapPath ID="SiteMapPath1" runat="server"></asp:SiteMapPath>
    </div>
    <asp:FormView ID="FormViewStep" runat="server"  CssClass="tablegridview">
        <ItemTemplate>
    <div>
            <asp:Label ID="LabelStepTitle" runat="server"  CssClass="legend titlemantest"  Text='<%# Eval("Title") %>'></asp:Label>
    </div>
    <div>
            <asp:TextBox ID="StepDescription" runat="server" Rows="5" ReadOnly="true" Wrap="true"
                 TextMode="MultiLine" Text='<%# Eval("Description") %>'>
    </asp:TextBox>
    <div>
            </ItemTemplate>
    </asp:FormView>
    <%--<div>
    <asp:Label ID="LabelStepTitle" runat="server"  CssClass="legend titlemantest" Text='<%# Eval("currentStep.Title") %>'></asp:Label>
    </div>
    <br/>
     <asp:TextBox ID="StepDescription" runat="server" Rows="10"
                 TextMode="MultiLine" Width="95%" Text='<%# Eval("currentStep.Description") %>'>
    </asp:TextBox>--%>
    <asp:Label ID="LabelRelatedAttachments" runat="server" Text="Related Image Attachments" CssClass="labelmantest"></asp:Label>

   
    <div>
        <asp:PlaceHolder ID="PlaceHolderForImages" runat="server"></asp:PlaceHolder>
     </div>
    <asp:GridView ID="gvAttachments" runat="server"
                  ItemType="ManTestAppWebForms.Models.Attachment"
                  DataKeyNames="Id"
                  AutoGenerateColumns="false"
                  AutoGenerateDeleteButton="false"
                  AutoGenerateEditButton="false"
                  AutoGenerateSelectButton="false"
                  SelectMethod="gvAttachments_GetData"
                  DeleteMethod="gvAttachments_DeleteItem"
                  UpdateMethod="gvAttachments_UpdateItem"
                  CssClass="table tablegridview"
                  >
         <EmptyDataTemplate>
            No data found
        </EmptyDataTemplate>
        <Columns>
            <asp:BoundField DataField="Id" ReadOnly="true" HeaderText="ID">
                </asp:BoundField>
            <asp:BoundField DataField="FileName" HeaderText="FileName">
                </asp:BoundField>
            <%--<asp:BoundField DataField="Url" HeaderText="Url">
                </asp:BoundField>--%>
            <asp:hyperlinkfield 
                            datanavigateurlfields="Id" 
                            datanavigateurlformatstring="AttachmentOpen.aspx?attachmentId={0}"
                            Text="Open"
                             />
            <%--<asp:CommandField ShowEditButton="True"/>--%>
            <asp:CommandField ShowSelectButton="true"  SelectText="View"/>

            <asp:CommandField ShowDeleteButton="True"/>
        </Columns>
    </asp:GridView>
    <asp:Button ID="btnAddAttachment" runat="server" Text="Add Attachment"   OnClick="btn_AddAttachment" class="btn btn-default" />
    
    <script type="text/javascript" src='<%=ResolveClientUrl("~/Scripts/Zoom/jquery.js") %>'></script>
    <script type="text/javascript" src='<%=ResolveClientUrl("~/Scripts/Zoom/eye.js") %>'></script>
    <script type="text/javascript" src='<%=ResolveClientUrl("~/Scripts/Zoom/utils.js") %>'></script>
    <script type="text/javascript" src='<%=ResolveClientUrl("~/Scripts/Zoom/zoomimage.js") %>'></script>
    <script type="text/javascript" src='<%=ResolveClientUrl("~/Scripts/Zoom/layout.js") %>'></script>
</asp:Content>

